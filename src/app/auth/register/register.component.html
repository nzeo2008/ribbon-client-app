<div class="register-page">
  <h2>Регистрация</h2>
  <form [formGroup]="registerForm">
    <div class="justify-content-center">
      <div>
        <mat-form-field appearance="outline">
          <mat-label>Имя</mat-label>
          <input matInput formControlName="firstname" />
          <mat-error *ngIf="registerForm.get('firstname')?.touched">
            {{ validator.getErrorMessage(registerForm, "firstname") }}
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label>Фамилия</mat-label>
          <input matInput formControlName="lastname" />
          <mat-error *ngIf="registerForm.get('lastname')?.touched">
            {{ validator.getErrorMessage(registerForm, "lastname") }}
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label>Никнейм</mat-label>
          <input matInput formControlName="username" />
          <mat-error *ngIf="registerForm.get('username')?.touched">
            {{ validator.getErrorMessage(registerForm, "username") }}
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
          <mat-error *ngIf="registerForm.get('email')?.touched">
            {{ validator.getErrorMessage(registerForm, "email") }}
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div>
      <mat-form-field appearance="outline">
        <mat-label>Пароль</mat-label>
        <input
          matInput
          formControlName="password"
          [type]="hidePassword ? 'password' : 'text'"
        />
        <button (click)="hidePassword = !hidePassword">
          <mat-icon>{{
            hidePassword ? "visibility_off" : "visibility"
          }}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('password')?.touched">
          {{ validator.getErrorMessage(registerForm, "password") }}
        </mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field appearance="outline">
        <mat-label>Повторите пароль</mat-label>
        <input
          matInput
          formControlName="confirmPassword"
          [type]="hideConfirm ? 'password' : 'text'"
        />
        <button (click)="hideConfirm = !hideConfirm">
          <mat-icon>{{
            hideConfirm ? "visibility_off" : "visibility"
          }}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('confirmPassword')?.touched">
          {{ validator.getErrorMessage(registerForm, "confirmPassword") }}
        </mat-error>
      </mat-form-field>
    </div>
    <div id="controls" class="row">
      <button
        [disabled]="registerForm.invalid"
        (click)="submit()"
        class="btn btn-primary w-25 p-2"
      >
        Регистрация
      </button>
      <span>Уже зарегистрированы? <a routerLink="/login">Войти</a></span>
    </div>
  </form>
</div>
